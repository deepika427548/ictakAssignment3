<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="main.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">
         
          <div class="collapse navbar-collapse justify-content-center" id="navbarSupportedContent">
            <ul class="navbar-nav  mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#" onclick="fetchtodo()" id="todo">TodoList</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="#">Logout</a>
              </li>
             
            </ul>
           
          </div>
        </div>
      </nav>
 
     


<div class="container container-fluid">

  <div id="results">
    <table class="table table-borderd">
      <thead class="table-dark">
        <tr>
          <th scope="col">ID</th>
          <th scope="col">TITLE</th>
          <th scope="col">STATUS</th>
        </tr>
      </thead>
      <tbody id="table_body">
       
      </tbody>
    </table>
  </div>



</div>


<script>
    function fetchtodo(){

      fetch('https://jsonplaceholder.typicode.com/todos')
      .then((data)=>{
        return data.json()
      })
      .then((data)=>{
        let tableData=""
      
  let count=0
  data.map((values)=>{

    
      if(values.completed == true){

        tableData+=`<tr>
      <td>${values.id}</td>
      <td>${values.title}</td>
      <td><input type="checkbox" checked=true class='check' disabled=true></td>
      </tr>`
      //console.log(data[1])
      }

      else{
        tableData+=`<tr>
      <td>${values.id}</td>
      <td>${values.title}</td>
      <td><input type="checkbox" class="check1"></td>
      </tr>`
       }
      })
       


      
       document.getElementById('table_body').innerHTML=tableData;
      
   })
  }

   // Function to check if 5 checkboxes are clicked
function checkCompletedTasks(count) {
  const promise=new Promise((resolve, reject) => {
    // const checkboxes = document.getElementsByClassName("check1");
    // const completedCount = checkboxes.length;
    if (Count === 5) {
      resolve(Count);
    } else {
      reject();
    }
  });
  
     promise .then(count => {
        alert(`Congrats! ${count} tasks have been successfully completed.`);
      })
      promise.catch(() => {});
}


// Event listener for checkboxes

const checkboxes = document.querySelectorAll('.check1');
let count=0
checkboxes.forEach(checkbox => {
  checkbox.addEventListener('click', () => {
    count++
    checkCompletedTasks(count)
  });
});

//  function fetchtodo(){
//             //http request

//             fetch('https://jsonplaceholder.typicode.com/todos')
               
// .then(function(data){
// return data.json()//convert into object
// })
// .then (function (data){
//   let tableData=""
//   let count=0
//   data.map((values)=>{

    
//       if(values.completed == true){

//         tableData+=`<tr>
//       <td>${values.id}</td>
//       <td>${values.title}</td>
//       <td><input type="checkbox" checked=true id='check' disabled=true></td>
//       </tr>`
//       //console.log(data[1])
//       }

//       else{
//         tableData+=`<tr>
//       <td>${values.id}</td>
//       <td>${values.title}</td>
//       <td><input type="checkbox" id='check1'></td>
//       </tr>`
//        let checkbox=document.getElementById('check1')
//        checkbox.addEventListener('click',()=>{
//         count+=1
//        })
//       }
//   })
// })

//   document.getElementById('table_body').innerHTML=tableData
 
//         }
        


      </script>

    
</body>
</html>